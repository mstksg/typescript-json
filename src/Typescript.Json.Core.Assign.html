<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor       #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia         #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE EmptyCase           #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs               #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes          #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards     #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving  #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications    #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns        #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Typescript.Json.Core.Assign</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Typescript.Json.Core.Assign.html#isAssignable"><span class="hs-identifier">isAssignable</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier">reAssign</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Typescript.Json.Core.Assign.html#unsafeReAssign"><span class="hs-identifier">unsafeReAssign</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Typescript.Json.Core.Assign.html#unsafeAssign"><span class="hs-identifier">unsafeAssign</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-comment">-- , isNullable</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative.Free</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Apply</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Combinator</span></span><span> </span><span class="hs-keyword">hiding</span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Comp</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Compose</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Invariant</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Invariant.DecAlt</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.HFunctor.Route</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Profunctor</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Semigroup</span></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">First</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Some</span></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Some</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Type.Equality</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Type.Nat</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Vec.Lazy</span></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Vec</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Typescript.Json.Core.Encode.html"><span class="hs-identifier">Typescript.Json.Core.Encode</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Typescript.Json.Core.Parse.html"><span class="hs-identifier">Typescript.Json.Core.Parse</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Typescript.Json.Types.html"><span class="hs-identifier">Typescript.Json.Types</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Typescript.Json.Types.Combinators.html"><span class="hs-identifier">Typescript.Json.Types.Combinators</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Typescript.Json.Types.Sing.html"><span class="hs-identifier">Typescript.Json.Types.Sing</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>                        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.BetterErrors</span></span><span>           </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ABE</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Fin</span></span><span>                          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Fin</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                         </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vec.Lazy</span></span><span>                     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Vec</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-comment">-- | Internal newtype wrapper with the appropriate instances, so we don't</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- need to leak the instances</span><span>
</span><span id="line-58"></span><span class="hs-keyword">newtype</span><span> </span><span id="WrappedAssign"><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-var">WrappedAssign</span></a></span></span><span> </span><span id="local-6989586621679312634"><span class="annot"><a href="#local-6989586621679312634"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679312633"><span class="annot"><a href="#local-6989586621679312633"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WrapAssign"><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unwrapAssign"><span class="annot"><span class="annottext">WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312634"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312633"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621679312262"><span id="local-6989586621679312264"><span id="local-6989586621679312266"><span id="local-6989586621679312268"><span id="local-6989586621679312270"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-type">WrappedAssign</span></a></span></span></span></span></span></span><span>
</span><span id="line-61"></span><span id="local-6989586621679312255"><span id="local-6989586621679312257"><span id="local-6989586621679312259"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679312259"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-type">WrappedAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312259"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-62"></span><span id="local-6989586621679312242"><span id="local-6989586621679312244"><span id="local-6989586621679312246"><span id="local-6989586621679312248"><span id="local-6989586621679312250"><span id="local-6989586621679312253"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Star</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679312253"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-type">WrappedAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312253"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-63"></span><span id="local-6989586621679312231"><span id="local-6989586621679312233"><span id="local-6989586621679312235"><span id="local-6989586621679312237"><span id="local-6989586621679312240"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WrappedApplicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-type">WrappedAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312240"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-type">WrappedAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312240"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span id="local-6989586621679312364"><span id="local-6989586621679312365"><span class="annot"><a href="Typescript.Json.Core.Assign.html#pureA"><span class="hs-identifier hs-type">pureA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679312365"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312364"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312365"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-66"></span><span id="pureA"><span class="annot"><span class="annottext">pureA :: a -&gt; Assign r a
</span><a href="Typescript.Json.Core.Assign.html#pureA"><span class="hs-identifier hs-var hs-var">pureA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WrappedAssign r a -&gt; Assign r a
forall a b. WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(WrappedAssign r a -&gt; Assign r a)
-&gt; (a -&gt; WrappedAssign r a) -&gt; a -&gt; Assign r a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; WrappedAssign r a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">-- | answers: is X assignable to Y?</span><span>
</span><span id="line-70"></span><span class="hs-comment">--</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- https://basarat.gitbook.io/typescript/type-system/type-compatibility</span><span>
</span><span id="line-72"></span><span id="local-6989586621679312223"><span id="local-6989586621679312224"><span id="local-6989586621679312225"><span id="local-6989586621679312226"><span class="annot"><a href="Typescript.Json.Core.Assign.html#isAssignable"><span class="hs-identifier hs-type">isAssignable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312226"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312225"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312224"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312223"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span></span><span>
</span><span id="line-73"></span><span id="isAssignable"><span class="annot"><span class="annottext">isAssignable :: TSType 'Z k a -&gt; TSType 'Z j b -&gt; Bool
</span><a href="Typescript.Json.Core.Assign.html#isAssignable"><span class="hs-identifier hs-var hs-var">isAssignable</span></a></span></span><span> </span><span id="local-6989586621679312222"><span class="annot"><span class="annottext">t :: TSType 'Z k a
</span><a href="#local-6989586621679312222"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679312221"><span class="annot"><span class="annottext">u :: TSType 'Z j b
</span><a href="#local-6989586621679312221"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b) -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Assign a b) -&gt; Bool) -&gt; Maybe (Assign a b) -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312222"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z j b
</span><a href="#local-6989586621679312221"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span id="local-6989586621679312216"><span id="local-6989586621679312217"><span id="local-6989586621679312218"><span id="local-6989586621679312219"><span class="annot"><a href="Typescript.Json.Core.Assign.html#unsafeReAssign"><span class="hs-identifier hs-type">unsafeReAssign</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312219"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312218"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312217"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312216"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312218"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312216"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-76"></span><span id="unsafeReAssign"><span class="annot"><span class="annottext">unsafeReAssign :: TSType 'Z k a -&gt; TSType 'Z j b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unsafeReAssign"><span class="hs-identifier hs-var hs-var">unsafeReAssign</span></a></span></span><span> </span><span id="local-6989586621679312215"><span class="annot"><span class="annottext">x :: TSType 'Z k a
</span><a href="#local-6989586621679312215"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Assign a b -&gt; Maybe (Assign a b) -&gt; Assign a b
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Assign a b
forall a b. Assign a b
</span><a href="#local-6989586621679312213"><span class="hs-identifier hs-var">badAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Assign a b) -&gt; Assign a b)
-&gt; (TSType 'Z j b -&gt; Maybe (Assign a b))
-&gt; TSType 'Z j b
-&gt; Assign a b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312215"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>    </span><span id="local-6989586621679312213"><span class="annot"><span class="annottext">badAssign :: Assign a b
</span><a href="#local-6989586621679312213"><span class="hs-identifier hs-var hs-var">badAssign</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text b) -&gt; Assign a b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text b) -&gt; Assign a b)
-&gt; (a -&gt; Either Text b) -&gt; Assign a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="hs-string">&quot;unsafeReAssign: Unsafe assignment failure&quot;</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-comment">-- | Completely 100% unsafe, but at least it doesn't require having a type</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- without any free variables</span><span>
</span><span id="line-82"></span><span id="local-6989586621679312210"><span id="local-6989586621679312211"><span class="annot"><a href="Typescript.Json.Core.Assign.html#unsafeAssign"><span class="hs-identifier hs-type">unsafeAssign</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312211"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312210"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-83"></span><span id="unsafeAssign"><span class="annot"><span class="annottext">unsafeAssign :: Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unsafeAssign"><span class="hs-identifier hs-var hs-var">unsafeAssign</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text b) -&gt; Assign a b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text b) -&gt; Assign a b)
-&gt; (a -&gt; Either Text b) -&gt; Assign a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="hs-string">&quot;unsafeAssign: Unsafe meaningless assignment&quot;</span></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- isNullable :: TSType 'Z k a -&gt; Maybe (Assign () a)</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- isNullable = reAssign $ TSPrimType (inject TSNull)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | a can be assigned as a b.  the function will &quot;lose&quot; information.</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- assumes --stictNullChecks</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- https://www.typescriptlang.org/docs/handbook/type-compatibility.html#advanced-topics</span><span>
</span><span id="line-92"></span><span id="local-6989586621679312393"><span id="local-6989586621679312394"><span id="local-6989586621679312395"><span id="local-6989586621679312396"><span class="annot"><a href="Typescript.Json.Core.Assign.html#reAssignPrim"><span class="hs-identifier hs-type">reAssignPrim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679312396"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679312395"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrim"><span class="hs-identifier hs-type">TSPrim</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312395"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312394"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312393"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312396"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312393"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-93"></span><span id="reAssignPrim"><span class="annot"><span class="annottext">reAssignPrim :: (r -&gt; a) -&gt; TSPrim a -&gt; TSType 'Z k b -&gt; Maybe (Assign r b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignPrim"><span class="hs-identifier hs-var hs-var">reAssignPrim</span></a></span></span><span> </span><span id="local-6989586621679312208"><span class="annot"><span class="annottext">z :: r -&gt; a
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNumber"><span class="hs-identifier hs-type">TSNumber</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-95"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSNumber"><span class="hs-identifier hs-type">TSNumber</span></a></span><span> </span><span id="local-6989586621679312204"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312204"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312204"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; (r -&gt; r) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-comment">-- compatible with num as long as there is at least one number, or is</span><span>
</span><span id="line-97"></span><span>      </span><span class="hs-comment">-- empty.  this is different than the spec but w/e</span><span>
</span><span id="line-98"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312201"><span id="local-6989586621679312202"><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNameable 'Z k as es b
</span><a href="#local-6989586621679312201"><span class="hs-identifier hs-var">tsnType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-99"></span><span>        </span><span class="annot"><a href="Typescript.Json.Types.html#TSNBaseType"><span class="hs-identifier hs-type">TSNBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312194"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312194"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSEnum"><span class="hs-identifier hs-type">TSEnum</span></a></span><span> </span><span id="local-6989586621679312192"><span class="annot"><span class="annottext">cs :: Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312192"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312192"><span class="hs-identifier hs-var">cs</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text b) -&gt; Text -&gt; Either Text b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Number out of range for empty Enum&quot;</span></span><span>
</span><span id="line-101"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-102"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679312190"><span class="annot"><span class="annottext">numberOpts :: [(Fin n, Scientific)]
</span><a href="#local-6989586621679312190"><span class="hs-identifier hs-var hs-var">numberOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-103"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fin n
</span><a href="#local-6989586621679312189"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679312188"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312189"><span class="annot"><span class="annottext">i :: Fin n
</span><a href="#local-6989586621679312189"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#ELNumber"><span class="hs-identifier hs-type">ELNumber</span></a></span><span> </span><span id="local-6989586621679312188"><span class="annot"><span class="annottext">n :: Scientific
</span><a href="#local-6989586621679312188"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Vec n (Fin n, (Text, EnumLit)) -&gt; [(Fin n, (Text, EnumLit))]
forall (n :: Nat) a. Vec n a -&gt; [a]
</span><span class="hs-identifier hs-var">Vec.toList</span></span><span> </span><span class="annot"><span class="annottext">(Vec n (Fin n, (Text, EnumLit)) -&gt; [(Fin n, (Text, EnumLit))])
-&gt; Vec n (Fin n, (Text, EnumLit)) -&gt; [(Fin n, (Text, EnumLit))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Fin n -&gt; (Text, EnumLit) -&gt; (Fin n, (Text, EnumLit)))
-&gt; Vec n (Text, EnumLit) -&gt; Vec n (Fin n, (Text, EnumLit))
forall (n :: Nat) a b. (Fin n -&gt; a -&gt; b) -&gt; Vec n a -&gt; Vec n b
</span><span class="hs-identifier hs-var">Vec.imap</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312192"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-105"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-106"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Maybe ()) -&gt; Bool -&gt; Maybe ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Fin n, Scientific)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(Fin n, Scientific)]
</span><a href="#local-6989586621679312190"><span class="hs-identifier hs-var">numberOpts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>              </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; a
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-glyph">-&gt;</span><span id="local-6989586621679312183"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679312183"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-108"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">First (Fin n) -&gt; Fin n
forall a. First a -&gt; a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First (Fin n) -&gt; Fin n) -&gt; Maybe (First (Fin n)) -&gt; Maybe (Fin n)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Fin n, a) -&gt; Maybe (First (Fin n)))
-&gt; [(Fin n, a)] -&gt; Maybe (First (Fin n))
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679312179"><span class="annot"><span class="annottext">i :: Fin n
</span><a href="#local-6989586621679312179"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679312178"><span class="annot"><span class="annottext">n :: a
</span><a href="#local-6989586621679312178"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Fin n -&gt; First (Fin n)
forall a. a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="annot"><span class="annottext">Fin n
</span><a href="#local-6989586621679312179"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">First (Fin n) -&gt; Maybe () -&gt; Maybe (First (Fin n))
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679312178"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679312183"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Fin n, a)]
[(Fin n, Scientific)]
</span><a href="#local-6989586621679312190"><span class="hs-identifier hs-var">numberOpts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-109"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text b) -&gt; Text -&gt; Either Text b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Number &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679312183"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot; out of range for Enum: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vec n (Text, EnumLit) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312192"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679312173"><span class="annot"><span class="annottext">x :: Fin n
</span><a href="#local-6989586621679312173"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; b -&gt; Either Text b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312194"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Fin n
</span><a href="#local-6989586621679312173"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-111"></span><span>        </span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-112"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSBigInt"><span class="hs-identifier hs-type">TSBigInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-114"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSBigInt"><span class="hs-identifier hs-type">TSBigInt</span></a></span><span> </span><span id="local-6989586621679312170"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312170"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312170"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; (r -&gt; r) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-115"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSString"><span class="hs-identifier hs-type">TSString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-117"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSString"><span class="hs-identifier hs-type">TSString</span></a></span><span> </span><span id="local-6989586621679312168"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312168"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312168"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; (r -&gt; r) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-118"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnknown"><span class="hs-identifier hs-type">TSUnknown</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-120"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnknown"><span class="hs-identifier hs-type">TSUnknown</span></a></span><span> </span><span id="local-6989586621679312166"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312166"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; (r -&gt; r) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-121"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSAny"><span class="hs-identifier hs-type">TSAny</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-123"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSNever"><span class="hs-identifier hs-type">TSNever</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-124"></span><span>      </span><span id="local-6989586621679312162"><span class="annot"><span class="annottext">t :: TSType 'Z k b
</span><a href="#local-6989586621679312162"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ParseError ParseErr -&gt; Text)
-&gt; Either (ParseError ParseErr) b -&gt; Either Text b
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unlines</span></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; Text)
-&gt; (ParseError ParseErr -&gt; [Text]) -&gt; ParseError ParseErr -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ParseErr -&gt; Text) -&gt; ParseError ParseErr -&gt; [Text]
forall err. (err -&gt; Text) -&gt; ParseError err -&gt; [Text]
</span><span class="hs-identifier hs-var">ABE.displayError</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (ParseErr -&gt; String) -&gt; ParseErr -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ParseErr -&gt; String
</span><a href="Typescript.Json.Core.Parse.html#showParseErr"><span class="hs-identifier hs-var">showParseErr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either (ParseError ParseErr) b -&gt; Either Text b)
-&gt; (r -&gt; Either (ParseError ParseErr) b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Parse ParseErr b -&gt; Value -&gt; Either (ParseError ParseErr) b
forall err a. Parse err a -&gt; Value -&gt; Either (ParseError err) a
</span><span class="hs-identifier hs-var">ABE.parseValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSType 'Z k b -&gt; Parse ParseErr b
forall (k :: IsObjType) a. TSType 'Z k a -&gt; Parse a
</span><a href="Typescript.Json.Core.Parse.html#parseType"><span class="hs-identifier hs-var">parseType</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k b
</span><a href="#local-6989586621679312162"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Either (ParseError ParseErr) b)
-&gt; (r -&gt; Value) -&gt; r -&gt; Either (ParseError ParseErr) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; Value
</span><a href="#local-6989586621679312208"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span id="local-6989586621679312386"><span id="local-6989586621679312387"><span id="local-6989586621679312388"><span id="local-6989586621679312389"><span class="annot"><a href="Typescript.Json.Core.Assign.html#reAssignBase"><span class="hs-identifier hs-type">reAssignBase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679312389"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679312388"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSBase"><span class="hs-identifier hs-type">TSBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312388"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312387"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312386"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312389"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312386"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-127"></span><span id="reAssignBase"><span class="annot"><span class="annottext">reAssignBase :: (r -&gt; a) -&gt; TSBase a -&gt; TSType 'Z k b -&gt; Maybe (Assign r b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignBase"><span class="hs-identifier hs-var hs-var">reAssignBase</span></a></span></span><span> </span><span id="local-6989586621679312154"><span class="annot"><span class="annottext">z :: r -&gt; a
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSBoolean"><span class="hs-identifier hs-type">TSBoolean</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-129"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312152"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312152"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSBoolean"><span class="hs-identifier hs-type">TSBoolean</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312152"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-130"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSStringLit"><span class="hs-identifier hs-type">TSStringLit</span></a></span><span> </span><span id="local-6989586621679312150"><span class="annot"><span class="annottext">s :: Text
</span><a href="#local-6989586621679312150"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-132"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSString"><span class="hs-identifier hs-type">TSString</span></a></span><span> </span><span id="local-6989586621679312149"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312149"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312149"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Text
</span><a href="#local-6989586621679312150"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-133"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312148"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312148"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSStringLit"><span class="hs-identifier hs-type">TSStringLit</span></a></span><span> </span><span id="local-6989586621679312147"><span class="annot"><span class="annottext">t :: Text
</span><a href="#local-6989586621679312147"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312148"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe () -&gt; Maybe (Assign r b)
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679312150"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679312147"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNumericLit"><span class="hs-identifier hs-type">TSNumericLit</span></a></span><span> </span><span id="local-6989586621679312145"><span class="annot"><span class="annottext">s :: Scientific
</span><a href="#local-6989586621679312145"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSNumber"><span class="hs-identifier hs-type">TSNumber</span></a></span><span> </span><span id="local-6989586621679312144"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312144"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312144"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Scientific
</span><a href="#local-6989586621679312145"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312143"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312143"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSNumericLit"><span class="hs-identifier hs-type">TSNumericLit</span></a></span><span> </span><span id="local-6989586621679312142"><span class="annot"><span class="annottext">t :: Scientific
</span><a href="#local-6989586621679312142"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312143"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe () -&gt; Maybe (Assign r b)
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679312145"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679312142"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSBigIntLit"><span class="hs-identifier hs-type">TSBigIntLit</span></a></span><span> </span><span id="local-6989586621679312140"><span class="annot"><span class="annottext">s :: Integer
</span><a href="#local-6989586621679312140"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-140"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSBigInt"><span class="hs-identifier hs-type">TSBigInt</span></a></span><span> </span><span id="local-6989586621679312139"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312139"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312139"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Integer
</span><a href="#local-6989586621679312140"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-141"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312138"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312138"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSBigIntLit"><span class="hs-identifier hs-type">TSBigIntLit</span></a></span><span> </span><span id="local-6989586621679312137"><span class="annot"><span class="annottext">t :: Integer
</span><a href="#local-6989586621679312137"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312138"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe () -&gt; Maybe (Assign r b)
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679312140"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679312137"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-143"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSVoid"><span class="hs-identifier hs-type">TSVoid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-144"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSAny"><span class="hs-identifier hs-type">TSAny</span></a></span><span> </span><span id="local-6989586621679312135"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312135"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312135"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Value
</span><span class="hs-identifier hs-var">A.Null</span></span><span>
</span><span id="line-145"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnknown"><span class="hs-identifier hs-type">TSUnknown</span></a></span><span> </span><span id="local-6989586621679312133"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312133"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312133"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Value
</span><span class="hs-identifier hs-var">A.Null</span></span><span>
</span><span id="line-146"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312132"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312132"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSVoid"><span class="hs-identifier hs-type">TSVoid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312132"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-147"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSUndefined"><span class="hs-identifier hs-type">TSUndefined</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSAny"><span class="hs-identifier hs-type">TSAny</span></a></span><span> </span><span id="local-6989586621679312130"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312130"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312130"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Value
</span><span class="hs-identifier hs-var">A.Null</span></span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnknown"><span class="hs-identifier hs-type">TSUnknown</span></a></span><span> </span><span id="local-6989586621679312129"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312129"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312129"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Value
</span><span class="hs-identifier hs-var">A.Null</span></span><span>
</span><span id="line-151"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312128"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312128"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSVoid"><span class="hs-identifier hs-type">TSVoid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312128"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-152"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312127"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312127"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSUndefined"><span class="hs-identifier hs-type">TSUndefined</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312127"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-153"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-154"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNull"><span class="hs-identifier hs-type">TSNull</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-155"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSAny"><span class="hs-identifier hs-type">TSAny</span></a></span><span> </span><span id="local-6989586621679312125"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312125"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312125"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Value
</span><span class="hs-identifier hs-var">A.Null</span></span><span>
</span><span id="line-156"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnknown"><span class="hs-identifier hs-type">TSUnknown</span></a></span><span> </span><span id="local-6989586621679312124"><span class="annot"><span class="annottext">f :: r -&gt; Either Text b
</span><a href="#local-6989586621679312124"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text b
</span><a href="#local-6989586621679312124"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Value
</span><span class="hs-identifier hs-var">A.Null</span></span><span>
</span><span id="line-157"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312123"><span class="annot"><span class="annottext">f :: r -&gt; b
</span><a href="#local-6989586621679312123"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSNull"><span class="hs-identifier hs-type">TSNull</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679312123"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; (r -&gt; r) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; r
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-158"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign r b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-comment">-- never can be anything</span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNever"><span class="hs-identifier hs-type">TSNever</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign r b -&gt; Maybe (Assign r b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign r b -&gt; Maybe (Assign r b))
-&gt; ((r -&gt; Either Text b) -&gt; Assign r b)
-&gt; (r -&gt; Either Text b)
-&gt; Maybe (Assign r b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text b) -&gt; Assign r b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((r -&gt; Either Text b) -&gt; Maybe (Assign r b))
-&gt; (r -&gt; Either Text b) -&gt; Maybe (Assign r b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either Text b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either Text b) -&gt; (r -&gt; b) -&gt; r -&gt; Either Text b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Void -&gt; b
forall a. Void -&gt; a
</span><span class="hs-identifier hs-var">absurd</span></span><span> </span><span class="annot"><span class="annottext">(Void -&gt; b) -&gt; (r -&gt; Void) -&gt; r -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a
r -&gt; Void
</span><a href="#local-6989586621679312154"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-comment">-- | If X is assignable to Y, then convert x to the more general y,</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- potentially losing information.</span><span>
</span><span id="line-165"></span><span id="local-6989586621679312615"><span id="local-6989586621679312616"><span id="local-6989586621679312617"><span id="local-6989586621679312618"><span class="annot"><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-type">reAssign</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312618"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312617"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312616"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312615"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312617"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312615"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-166"></span><span id="reAssign"><span class="annot"><span class="annottext">reAssign :: TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var hs-var">reAssign</span></a></span></span><span> </span><span id="local-6989586621679312121"><span class="annot"><span class="annottext">t0 :: TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSArray"><span class="hs-identifier hs-type">TSArray</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ILan"><span class="hs-identifier hs-type">ILan</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312118"><span class="annot"><span class="annottext">g :: a -&gt; [x]
</span><a href="#local-6989586621679312118"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679312117"><span class="annot"><span class="annottext">t :: TSType 'Z k x
</span><a href="#local-6989586621679312117"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b (k :: IsObjType) (l :: IsObjType).
TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var">loopReAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
 -&gt; TSType 'Z j b -&gt; Maybe (Assign a b))
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSArray"><span class="hs-identifier hs-type">TSArray</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ILan"><span class="hs-identifier hs-type">ILan</span></a></span><span> </span><span id="local-6989586621679312115"><span class="annot"><span class="annottext">f' :: [x] -&gt; c
</span><a href="#local-6989586621679312115"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312114"><span class="annot"><span class="annottext">u :: TSType 'Z k x
</span><a href="#local-6989586621679312114"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-169"></span><span>        </span><span class="annot"><span class="annottext">(a -&gt; Either Text c) -&gt; Assign a c
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text c) -&gt; Assign a c)
-&gt; (Assign x x -&gt; a -&gt; Either Text c) -&gt; Assign x x -&gt; Assign a c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; [x])
-&gt; ([Either Text x] -&gt; Either Text c)
-&gt; ([x] -&gt; [Either Text x])
-&gt; a
-&gt; Either Text c
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; [x]
</span><a href="#local-6989586621679312118"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([x] -&gt; c) -&gt; Either Text [x] -&gt; Either Text c
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[x] -&gt; c
</span><a href="#local-6989586621679312115"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">(Either Text [x] -&gt; Either Text c)
-&gt; ([Either Text x] -&gt; Either Text [x])
-&gt; [Either Text x]
-&gt; Either Text c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Either Text x] -&gt; Either Text [x]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([x] -&gt; [Either Text x]) -&gt; a -&gt; Either Text c)
-&gt; (Assign x x -&gt; [x] -&gt; [Either Text x])
-&gt; Assign x x
-&gt; a
-&gt; Either Text c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(x -&gt; Either Text x) -&gt; [x] -&gt; [Either Text x]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">((x -&gt; Either Text x) -&gt; [x] -&gt; [Either Text x])
-&gt; (Assign x x -&gt; x -&gt; Either Text x)
-&gt; Assign x x
-&gt; [x]
-&gt; [Either Text x]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Assign x x -&gt; x -&gt; Either Text x
forall a b. Assign a b -&gt; a -&gt; Either Text b
</span><a href="Typescript.Json.Types.html#runAssign"><span class="hs-identifier hs-var hs-var">runAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Assign x x -&gt; Assign a c)
-&gt; Maybe (Assign x x) -&gt; Maybe (Assign a c)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k x -&gt; TSType 'Z k x -&gt; Maybe (Assign x x)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k x
</span><a href="#local-6989586621679312117"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k x
</span><a href="#local-6989586621679312114"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSTuple"><span class="hs-identifier hs-type">TSTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PreT</span></span><span> </span><span id="local-6989586621679312108"><span class="annot"><span class="annottext">xs :: Ap (Pre a (TSType_ 'Z)) a
</span><a href="#local-6989586621679312108"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b (k :: IsObjType) (l :: IsObjType).
TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var">loopReAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
 -&gt; TSType 'Z j b -&gt; Maybe (Assign a b))
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSTuple"><span class="hs-identifier hs-type">TSTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PreT</span></span><span> </span><span id="local-6989586621679312107"><span class="annot"><span class="annottext">ys :: Ap (Pre c (TSType_ 'Z)) c
</span><a href="#local-6989586621679312107"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ap (Pre a (TSType_ 'Z)) a
-&gt; Ap (Pre c (TSType_ 'Z)) c -&gt; Maybe (Assign a c)
forall a c b d.
Ap (Pre a (TSType_ 'Z)) c
-&gt; Ap (Pre b (TSType_ 'Z)) d -&gt; Maybe (Assign a d)
</span><a href="Typescript.Json.Core.Assign.html#reAssignTuple"><span class="hs-identifier hs-var">reAssignTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Ap (Pre a (TSType_ 'Z)) a
</span><a href="#local-6989586621679312108"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Ap (Pre c (TSType_ 'Z)) c
</span><a href="#local-6989586621679312107"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-173"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-174"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSObject"><span class="hs-identifier hs-type">TSObject</span></a></span><span> </span><span id="local-6989586621679312104"><span class="annot"><span class="annottext">xs :: TSKeyVal 'Z a
</span><a href="#local-6989586621679312104"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
forall a (k :: IsObjType) b.
TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-var">reAssignIsObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSKeyVal 'Z a -&gt; TSType 'Z 'IsObj a
forall (p :: Nat) a. TSKeyVal p a -&gt; TSType p 'IsObj a
</span><a href="Typescript.Json.Types.html#TSObject"><span class="hs-identifier hs-var">TSObject</span></a></span><span> </span><span class="annot"><span class="annottext">TSKeyVal 'Z a
</span><a href="#local-6989586621679312104"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSSingle"><span class="hs-identifier hs-type">TSSingle</span></a></span><span> </span><span id="local-6989586621679312101"><span class="annot"><span class="annottext">x :: TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312101"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b (k :: IsObjType) (l :: IsObjType).
TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var">loopReAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; TSType 'Z j c -&gt; Maybe (Assign a c)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312101"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnion"><span class="hs-identifier hs-type">TSUnion</span></a></span><span> </span><span id="local-6989586621679312099"><span class="annot"><span class="annottext">xs :: TSUnionBranches 'Z a
</span><a href="#local-6989586621679312099"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679312098"><span class="annot"><span class="annottext">y :: TSType 'Z j b
</span><a href="#local-6989586621679312098"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Op (Either Text b) a -&gt; Assign a b)
-&gt; Maybe (Op (Either Text b) a) -&gt; Maybe (Assign a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Either Text b) -&gt; Assign a b
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text b) -&gt; Assign a b)
-&gt; (Op (Either Text b) a -&gt; a -&gt; Either Text b)
-&gt; Op (Either Text b) a
-&gt; Assign a b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Op (Either Text b) a -&gt; a -&gt; Either Text b
forall a b. Op a b -&gt; b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getOp</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (Op (Either Text b) a) -&gt; Maybe (Assign a b))
-&gt; (Compose Maybe (Op (Either Text b)) a
    -&gt; Maybe (Op (Either Text b) a))
-&gt; Compose Maybe (Op (Either Text b)) a
-&gt; Maybe (Assign a b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Compose Maybe (Op (Either Text b)) a
-&gt; Maybe (Op (Either Text b) a)
forall k1 (f :: k1 -&gt; *) k2 (g :: k2 -&gt; k1) (a :: k2).
Compose f g a -&gt; f (g a)
</span><span class="hs-identifier hs-var hs-var">getCompose</span></span><span> </span><span class="annot"><span class="annottext">(Compose Maybe (Op (Either Text b)) a -&gt; Maybe (Assign a b))
-&gt; Compose Maybe (Op (Either Text b)) a -&gt; Maybe (Assign a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><span class="annottext">(TSType_ 'Z ~&gt; Compose Maybe (Op (Either Text b)))
-&gt; TSUnionBranches 'Z a -&gt; Compose Maybe (Op (Either Text b)) a
forall (f :: * -&gt; *) (g :: * -&gt; *).
Decide g =&gt;
(f ~&gt; g) -&gt; DecAlt1 f ~&gt; g
</span><span class="hs-identifier hs-var">runContraDecAlt1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall (k :: IsObjType).
 TSType 'Z k x -&gt; Compose Maybe (Op (Either Text b)) x)
-&gt; TSType_ 'Z x -&gt; Compose Maybe (Op (Either Text b)) x
forall (p :: Nat) a r.
(forall (k :: IsObjType). TSType p k a -&gt; r) -&gt; TSType_ p a -&gt; r
</span><a href="Typescript.Json.Types.html#withTSType_"><span class="hs-identifier hs-var">withTSType_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Op (Either Text b) x)
-&gt; Compose Maybe (Op (Either Text b)) x
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Op (Either Text b) x)
 -&gt; Compose Maybe (Op (Either Text b)) x)
-&gt; (TSType 'Z k x -&gt; Maybe (Op (Either Text b) x))
-&gt; TSType 'Z k x
-&gt; Compose Maybe (Op (Either Text b)) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Assign x b -&gt; Op (Either Text b) x)
-&gt; Maybe (Assign x b) -&gt; Maybe (Op (Either Text b) x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(x -&gt; Either Text b) -&gt; Op (Either Text b) x
forall a b. (b -&gt; a) -&gt; Op a b
</span><span class="hs-identifier hs-var">Op</span></span><span> </span><span class="annot"><span class="annottext">((x -&gt; Either Text b) -&gt; Op (Either Text b) x)
-&gt; (Assign x b -&gt; x -&gt; Either Text b)
-&gt; Assign x b
-&gt; Op (Either Text b) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Assign x b -&gt; x -&gt; Either Text b
forall a b. Assign a b -&gt; a -&gt; Either Text b
</span><a href="Typescript.Json.Types.html#runAssign"><span class="hs-identifier hs-var hs-var">runAssign</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (Assign x b) -&gt; Maybe (Op (Either Text b) x))
-&gt; (TSType 'Z k x -&gt; Maybe (Assign x b))
-&gt; TSType 'Z k x
-&gt; Maybe (Op (Either Text b) x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSType 'Z k x -&gt; TSType 'Z j b -&gt; Maybe (Assign x b)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-operator hs-var">`reAssign`</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z j b
</span><a href="#local-6989586621679312098"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TSUnionBranches 'Z a
</span><a href="#local-6989586621679312099"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSIntersection"><span class="hs-identifier hs-type">TSIntersection</span></a></span><span> </span><span id="local-6989586621679312090"><span class="annot"><span class="annottext">xs :: PreT Ap1 (TSType 'Z 'IsObj) a
</span><a href="#local-6989586621679312090"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
forall a (k :: IsObjType) b.
TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-var">reAssignIsObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreT Ap1 (TSType 'Z 'IsObj) a -&gt; TSType 'Z 'IsObj a
forall (p :: Nat) a.
PreT Ap1 (TSType p 'IsObj) a -&gt; TSType p 'IsObj a
</span><a href="Typescript.Json.Types.html#TSIntersection"><span class="hs-identifier hs-var">TSIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">PreT Ap1 (TSType 'Z 'IsObj) a
</span><a href="#local-6989586621679312090"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312088"><span id="local-6989586621679312089"><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span id="local-6989586621679312087"><span class="annot"><span class="annottext">ps :: NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679312087"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNameable 'Z k as es a
</span><a href="#local-6989586621679312088"><span class="hs-identifier hs-var">tsnType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-180"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span id="local-6989586621679312086"><span class="annot"><span class="annottext">tf :: TSTypeF 'Z k as es a
</span><a href="#local-6989586621679312086"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSTypeF 'Z k as es a -&gt; NP2 (Arg_ 'Z) as es -&gt; TSType 'Z k a
forall (p :: Nat) (k :: IsObjType) (as :: [*]) (es :: [Maybe *]) b.
TSTypeF p k as es b -&gt; NP2 (Arg_ p) as es -&gt; TSType p k b
</span><a href="Typescript.Json.Types.html#tsApply"><span class="hs-identifier hs-var">tsApply</span></a></span><span> </span><span class="annot"><span class="annottext">TSTypeF 'Z k as es a
</span><a href="#local-6989586621679312086"><span class="hs-identifier hs-var">tf</span></a></span><span> </span><span class="annot"><span class="annottext">NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679312087"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNBaseType"><span class="hs-identifier hs-type">TSNBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span id="local-6989586621679312084"><span class="annot"><span class="annottext">ser :: a -&gt; r
</span><a href="#local-6989586621679312084"><span class="hs-identifier hs-var">ser</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312083"><span class="annot"><span class="annottext">ite :: TSNamedBase r
</span><a href="#local-6989586621679312083"><span class="hs-identifier hs-var">ite</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNamedBase r
</span><a href="#local-6989586621679312083"><span class="hs-identifier hs-var">ite</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-182"></span><span>        </span><span class="annot"><a href="Typescript.Json.Types.html#TSEnum"><span class="hs-identifier hs-type">TSEnum</span></a></span><span> </span><span id="local-6989586621679312082"><span class="annot"><span class="annottext">cs :: Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312082"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b (k :: IsObjType) (l :: IsObjType).
TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var">loopReAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
 -&gt; TSType 'Z j b -&gt; Maybe (Assign a b))
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-183"></span><span>          </span><span class="hs-comment">-- compatible with num as long as there is at least one number, or is</span><span>
</span><span id="line-184"></span><span>          </span><span class="hs-comment">-- empty.  this is different than the spec but w/e</span><span>
</span><span id="line-185"></span><span>          </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSNumber"><span class="hs-identifier hs-type">TSNumber</span></a></span><span> </span><span id="local-6989586621679312081"><span class="annot"><span class="annottext">f :: r -&gt; Either Text c
</span><a href="#local-6989586621679312081"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312082"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-186"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">VNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign a c -&gt; Maybe (Assign a c)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign a c -&gt; Maybe (Assign a c))
-&gt; ((a -&gt; Either Text c) -&gt; Assign a c)
-&gt; (a -&gt; Either Text c)
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text c) -&gt; Assign a c
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text c) -&gt; Maybe (Assign a c))
-&gt; (a -&gt; Either Text c) -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679312079"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621679312079"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">c -&gt; Either Text c
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(c -&gt; Either Text c) -&gt; c -&gt; Either Text c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Fin 'Z -&gt; c
forall b. Fin 'Z -&gt; b
</span><span class="hs-identifier hs-var">Fin.absurd</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679312084"><span class="hs-identifier hs-var">ser</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679312079"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>            </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679312077"><span class="annot"><span class="annottext">numberOpts :: [(Fin n, Scientific)]
</span><a href="#local-6989586621679312077"><span class="hs-identifier hs-var hs-var">numberOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-189"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fin n
</span><a href="#local-6989586621679312076"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679312075"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312076"><span class="annot"><span class="annottext">i :: Fin n
</span><a href="#local-6989586621679312076"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#ELNumber"><span class="hs-identifier hs-type">ELNumber</span></a></span><span> </span><span id="local-6989586621679312075"><span class="annot"><span class="annottext">n :: Scientific
</span><a href="#local-6989586621679312075"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Vec n (Fin n, (Text, EnumLit)) -&gt; [(Fin n, (Text, EnumLit))]
forall (n :: Nat) a. Vec n a -&gt; [a]
</span><span class="hs-identifier hs-var">Vec.toList</span></span><span> </span><span class="annot"><span class="annottext">(Vec n (Fin n, (Text, EnumLit)) -&gt; [(Fin n, (Text, EnumLit))])
-&gt; Vec n (Fin n, (Text, EnumLit)) -&gt; [(Fin n, (Text, EnumLit))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Fin n -&gt; (Text, EnumLit) -&gt; (Fin n, (Text, EnumLit)))
-&gt; Vec n (Text, EnumLit) -&gt; Vec n (Fin n, (Text, EnumLit))
forall (n :: Nat) a b. (Fin n -&gt; a -&gt; b) -&gt; Vec n a -&gt; Vec n b
</span><span class="hs-identifier hs-var">Vec.imap</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312082"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-191"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-192"></span><span>              </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Fin n, Scientific)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(Fin n, Scientific)]
</span><a href="#local-6989586621679312077"><span class="hs-identifier hs-var">numberOpts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe () -&gt; Assign a c -&gt; Maybe (Assign a c)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text c) -&gt; Assign a c
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679312073"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621679312073"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-193"></span><span>                     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Text, EnumLit) -&gt; EnumLit
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Text, EnumLit) -&gt; EnumLit) -&gt; (Text, EnumLit) -&gt; EnumLit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312082"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit) -&gt; Fin n -&gt; (Text, EnumLit)
forall (n :: Nat) a. Vec n a -&gt; Fin n -&gt; a
</span><span class="hs-operator hs-var">Vec.!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679312084"><span class="hs-identifier hs-var">ser</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679312073"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-194"></span><span>                       </span><span class="annot"><a href="Typescript.Json.Types.html#ELNumber"><span class="hs-identifier hs-type">ELNumber</span></a></span><span> </span><span id="local-6989586621679312071"><span class="annot"><span class="annottext">n :: Scientific
</span><a href="#local-6989586621679312071"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text c
</span><a href="#local-6989586621679312081"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
Scientific
</span><a href="#local-6989586621679312071"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-195"></span><span>                       </span><span class="annot"><a href="Typescript.Json.Types.html#ELString"><span class="hs-identifier hs-type">ELString</span></a></span><span> </span><span id="local-6989586621679312069"><span class="annot"><span class="annottext">s :: Text
</span><a href="#local-6989586621679312069"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text c
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text c) -&gt; Text -&gt; Either Text c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Enum mismatch: expected number, got &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679312069"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-196"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>          </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span> </span><span id="local-6989586621679312068"><span class="annot"><span class="annottext">nm :: Text
</span><a href="#local-6989586621679312068"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621679312067"><span class="annot"><span class="annottext">nt :: TSNameable 'Z j as es c
</span><a href="#local-6989586621679312067"><span class="hs-identifier hs-var">nt</span></a></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNameable 'Z j as es c
</span><a href="#local-6989586621679312067"><span class="hs-identifier hs-var">nt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-198"></span><span>            </span><span class="annot"><a href="Typescript.Json.Types.html#TSNBaseType"><span class="hs-identifier hs-type">TSNBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312066"><span class="annot"><span class="annottext">f :: r -&gt; c
</span><a href="#local-6989586621679312066"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSEnum"><span class="hs-identifier hs-type">TSEnum</span></a></span><span> </span><span id="local-6989586621679312065"><span class="annot"><span class="annottext">ds :: Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312065"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-199"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Maybe ()) -&gt; Bool -&gt; Maybe ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679312089"><span class="hs-identifier hs-var">tsnName</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679312068"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-200"></span><span>              </span><span class="annot"><span class="annottext">n :~: n
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Vec n EnumLit -&gt; Vec n EnumLit -&gt; Maybe (n :~: n)
forall (n :: Nat) a (m :: Nat).
Vec n a -&gt; Vec m a -&gt; Maybe (n :~: m)
</span><a href="Typescript.Json.Types.Sing.html#vecSame"><span class="hs-identifier hs-var">vecSame</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Text, EnumLit) -&gt; EnumLit
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Text, EnumLit) -&gt; EnumLit)
-&gt; Vec n (Text, EnumLit) -&gt; Vec n EnumLit
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312082"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Text, EnumLit) -&gt; EnumLit
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Text, EnumLit) -&gt; EnumLit)
-&gt; Vec n (Text, EnumLit) -&gt; Vec n EnumLit
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312065"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Maybe ()) -&gt; Bool -&gt; Maybe ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312082"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit) -&gt; Vec n (Text, EnumLit) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Vec n (Text, EnumLit)
Vec n (Text, EnumLit)
</span><a href="#local-6989586621679312065"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-202"></span><span>              </span><span class="annot"><span class="annottext">Assign a c -&gt; Maybe (Assign a c)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Assign a c -&gt; Maybe (Assign a c))
-&gt; ((a -&gt; Either Text c) -&gt; Assign a c)
-&gt; (a -&gt; Either Text c)
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text c) -&gt; Assign a c
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text c) -&gt; Maybe (Assign a c))
-&gt; (a -&gt; Either Text c) -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; Either Text c
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(c -&gt; Either Text c) -&gt; (a -&gt; c) -&gt; a -&gt; Either Text c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; c
</span><a href="#local-6989586621679312066"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; c) -&gt; (a -&gt; r) -&gt; a -&gt; c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
a -&gt; r
</span><a href="#local-6989586621679312084"><span class="hs-identifier hs-var">ser</span></a></span><span>
</span><span id="line-203"></span><span>            </span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-204"></span><span>          </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSTransformType"><span class="hs-identifier hs-type">TSTransformType</span></a></span><span> </span><span id="local-6989586621679312061"><span class="annot"><span class="annottext">tf :: ICoyoneda (TSTransform 'Z k) a
</span><a href="#local-6989586621679312061"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TSTransform 'Z k ~&gt; TSType 'Z k)
-&gt; ICoyoneda (TSTransform 'Z k) a -&gt; TSType 'Z k a
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><span class="hs-identifier hs-var">interpret</span></span><span> </span><span class="annot"><span class="annottext">TSTransform 'Z k ~&gt; TSType 'Z k
forall (p :: Nat) (k :: IsObjType) a.
TSTransform p k a -&gt; TSType p k a
</span><a href="Typescript.Json.Types.html#applyTransform"><span class="hs-identifier hs-var">applyTransform</span></a></span><span> </span><span class="annot"><span class="annottext">ICoyoneda (TSTransform 'Z k) a
</span><a href="#local-6989586621679312061"><span class="hs-identifier hs-var">tf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span id="local-6989586621679312058"><span class="annot"><span class="annottext">xi :: TSPrim r
</span><a href="#local-6989586621679312058"><span class="hs-identifier hs-var">xi</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312057"><span class="annot"><span class="annottext">xs :: a -&gt; r
</span><a href="#local-6989586621679312057"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b (k :: IsObjType) (l :: IsObjType).
TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var">loopReAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
 -&gt; TSType 'Z j b -&gt; Maybe (Assign a b))
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; TSPrim r -&gt; TSType 'Z j c -&gt; Maybe (Assign a c)
forall r a (k :: IsObjType) b.
(r -&gt; a) -&gt; TSPrim a -&gt; TSType 'Z k b -&gt; Maybe (Assign r b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignPrim"><span class="hs-identifier hs-var">reAssignPrim</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679312057"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">TSPrim r
</span><a href="#local-6989586621679312058"><span class="hs-identifier hs-var">xi</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ICoyoneda"><span class="hs-identifier hs-type">ICoyoneda</span></a></span><span> </span><span id="local-6989586621679312056"><span class="annot"><span class="annottext">xs :: a -&gt; r
</span><a href="#local-6989586621679312056"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679312055"><span class="annot"><span class="annottext">xi :: TSBase r
</span><a href="#local-6989586621679312055"><span class="hs-identifier hs-var">xi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b (k :: IsObjType) (l :: IsObjType).
TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var">loopReAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679312121"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
 -&gt; TSType 'Z j b -&gt; Maybe (Assign a b))
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z j b
-&gt; Maybe (Assign a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; TSBase r -&gt; TSType 'Z j c -&gt; Maybe (Assign a c)
forall r a (k :: IsObjType) b.
(r -&gt; a) -&gt; TSBase a -&gt; TSType 'Z k b -&gt; Maybe (Assign r b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignBase"><span class="hs-identifier hs-var">reAssignBase</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679312056"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">TSBase r
</span><a href="#local-6989586621679312055"><span class="hs-identifier hs-var">xi</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | Loops on being TSNullable or TSSingle or TSNamedType TSNFunc.  Also</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- cuts things off for 'Any'/'Unknown'</span><span>
</span><span id="line-211"></span><span class="annot"><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-type">loopReAssign</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679312499"><span class="annot"><a href="#local-6989586621679312499"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679312497"><span class="annot"><a href="#local-6989586621679312497"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679312498"><span class="annot"><a href="#local-6989586621679312498"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679312500"><span class="annot"><a href="#local-6989586621679312500"><span class="hs-identifier hs-type">l</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312500"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312499"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679312502"><span class="annot"><a href="#local-6989586621679312502"><span class="hs-identifier hs-type">j</span></a></span></span><span> </span><span id="local-6989586621679312501"><span class="annot"><a href="#local-6989586621679312501"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312502"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312501"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312501"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312498"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312497"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312497"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span id="loopReAssign"><span class="annot"><span class="annottext">loopReAssign :: TSType 'Z l a
-&gt; (forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c))
-&gt; TSType 'Z k b
-&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#loopReAssign"><span class="hs-identifier hs-var hs-var">loopReAssign</span></a></span></span><span> </span><span id="local-6989586621679312054"><span class="annot"><span class="annottext">z :: TSType 'Z l a
</span><a href="#local-6989586621679312054"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679312053"><span class="annot"><span class="annottext">f :: forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312053"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k b -&gt; Maybe (Assign a b)
forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312052"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>    </span><span id="local-6989586621679312050"><span id="local-6989586621679312051"><span class="annot"><a href="#local-6989586621679312052"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312051"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312050"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312050"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-220"></span><span>    </span><span id="local-6989586621679312052"><span class="annot"><span class="annottext">go :: TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312052"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSSingle"><span class="hs-identifier hs-type">TSSingle</span></a></span><span> </span><span id="local-6989586621679312049"><span class="annot"><span class="annottext">t :: TSType 'Z 'IsObj c
</span><a href="#local-6989586621679312049"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312052"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj c
</span><a href="#local-6989586621679312049"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span id="local-6989586621679312048"><span class="annot"><span class="annottext">tf :: TSTypeF 'Z j as es c
</span><a href="#local-6989586621679312048"><span class="hs-identifier hs-var">tf</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span id="local-6989586621679312047"><span class="annot"><span class="annottext">ps :: NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679312047"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z j c -&gt; Maybe (Assign a c)
forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312052"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSTypeF 'Z j as es c -&gt; NP2 (Arg_ 'Z) as es -&gt; TSType 'Z j c
forall (p :: Nat) (k :: IsObjType) (as :: [*]) (es :: [Maybe *]) b.
TSTypeF p k as es b -&gt; NP2 (Arg_ p) as es -&gt; TSType p k b
</span><a href="Typescript.Json.Types.html#tsApply"><span class="hs-identifier hs-var">tsApply</span></a></span><span> </span><span class="annot"><span class="annottext">TSTypeF 'Z j as es c
</span><a href="#local-6989586621679312048"><span class="hs-identifier hs-var">tf</span></a></span><span> </span><span class="annot"><span class="annottext">NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679312047"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnion"><span class="hs-identifier hs-type">TSUnion</span></a></span><span> </span><span id="local-6989586621679312046"><span class="annot"><span class="annottext">ts :: TSUnionBranches 'Z c
</span><a href="#local-6989586621679312046"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a c -&gt; Assign a c)
-&gt; Maybe (WrappedAssign a c) -&gt; Maybe (Assign a c)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a c -&gt; Assign a c
forall a b. WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (WrappedAssign a c) -&gt; Maybe (Assign a c))
-&gt; (Compose Maybe (WrappedAssign a) c -&gt; Maybe (WrappedAssign a c))
-&gt; Compose Maybe (WrappedAssign a) c
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Compose Maybe (WrappedAssign a) c -&gt; Maybe (WrappedAssign a c)
forall k1 (f :: k1 -&gt; *) k2 (g :: k2 -&gt; k1) (a :: k2).
Compose f g a -&gt; f (g a)
</span><span class="hs-identifier hs-var hs-var">getCompose</span></span><span> </span><span class="annot"><span class="annottext">(Compose Maybe (WrappedAssign a) c -&gt; Maybe (Assign a c))
-&gt; Compose Maybe (WrappedAssign a) c -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-224"></span><span>        </span><span class="annot"><span class="annottext">(TSType_ 'Z ~&gt; Compose Maybe (WrappedAssign a))
-&gt; TSUnionBranches 'Z c -&gt; Compose Maybe (WrappedAssign a) c
forall (f :: * -&gt; *) (g :: * -&gt; *).
Alt g =&gt;
(f ~&gt; g) -&gt; DecAlt1 f ~&gt; g
</span><span class="hs-identifier hs-var">runCoDecAlt1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (WrappedAssign a x) -&gt; Compose Maybe (WrappedAssign a) x
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (WrappedAssign a x) -&gt; Compose Maybe (WrappedAssign a) x)
-&gt; (TSType_ 'Z x -&gt; Maybe (WrappedAssign a x))
-&gt; TSType_ 'Z x
-&gt; Compose Maybe (WrappedAssign a) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Assign a x -&gt; WrappedAssign a x)
-&gt; Maybe (Assign a x) -&gt; Maybe (WrappedAssign a x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Assign a x -&gt; WrappedAssign a x
forall a b. Assign a b -&gt; WrappedAssign a b
</span><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Assign a x) -&gt; Maybe (WrappedAssign a x))
-&gt; (TSType_ 'Z x -&gt; Maybe (Assign a x))
-&gt; TSType_ 'Z x
-&gt; Maybe (WrappedAssign a x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (k :: IsObjType). TSType 'Z k x -&gt; Maybe (Assign a x))
-&gt; TSType_ 'Z x -&gt; Maybe (Assign a x)
forall (p :: Nat) a r.
(forall (k :: IsObjType). TSType p k a -&gt; r) -&gt; TSType_ p a -&gt; r
</span><a href="Typescript.Json.Types.html#withTSType_"><span class="hs-identifier hs-var">withTSType_</span></a></span><span> </span><span class="annot"><span class="annottext">forall (k :: IsObjType). TSType 'Z k x -&gt; Maybe (Assign a x)
forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312052"><span class="hs-identifier hs-var">go</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TSUnionBranches 'Z c
</span><a href="#local-6989586621679312046"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSAny"><span class="hs-identifier hs-type">TSAny</span></a></span><span> </span><span id="local-6989586621679312044"><span class="annot"><span class="annottext">g :: r -&gt; Either Text c
</span><a href="#local-6989586621679312044"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign a c -&gt; Maybe (Assign a c)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign a c -&gt; Maybe (Assign a c))
-&gt; ((a -&gt; Either Text c) -&gt; Assign a c)
-&gt; (a -&gt; Either Text c)
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text c) -&gt; Assign a c
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text c) -&gt; Maybe (Assign a c))
-&gt; (a -&gt; Either Text c) -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text c
</span><a href="#local-6989586621679312044"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text c) -&gt; (a -&gt; r) -&gt; a -&gt; Either Text c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z l a -&gt; a -&gt; Value
forall (k :: IsObjType) a. TSType 'Z k a -&gt; a -&gt; Value
</span><a href="Typescript.Json.Core.Encode.html#typeToValue"><span class="hs-identifier hs-var">typeToValue</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z l a
</span><a href="#local-6989586621679312054"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#PS"><span class="hs-identifier hs-type">PS</span></a></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnknown"><span class="hs-identifier hs-type">TSUnknown</span></a></span><span> </span><span id="local-6989586621679312042"><span class="annot"><span class="annottext">g :: r -&gt; Either Text c
</span><a href="#local-6989586621679312042"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign a c -&gt; Maybe (Assign a c)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign a c -&gt; Maybe (Assign a c))
-&gt; ((a -&gt; Either Text c) -&gt; Assign a c)
-&gt; (a -&gt; Either Text c)
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either Text c) -&gt; Assign a c
forall a b. (a -&gt; Either Text b) -&gt; Assign a b
</span><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Either Text c) -&gt; Maybe (Assign a c))
-&gt; (a -&gt; Either Text c) -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either Text c
</span><a href="#local-6989586621679312042"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Either Text c) -&gt; (a -&gt; r) -&gt; a -&gt; Either Text c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z l a -&gt; a -&gt; Value
forall (k :: IsObjType) a. TSType 'Z k a -&gt; a -&gt; Value
</span><a href="Typescript.Json.Core.Encode.html#typeToValue"><span class="hs-identifier hs-var">typeToValue</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z l a
</span><a href="#local-6989586621679312054"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span id="local-6989586621679312041"><span class="annot"><span class="annottext">t :: TSType 'Z j c
</span><a href="#local-6989586621679312041"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z j c -&gt; Maybe (Assign a c)
forall (j :: IsObjType) c. TSType 'Z j c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679312053"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z j c
</span><a href="#local-6989586621679312041"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span id="local-6989586621679312480"><span id="local-6989586621679312481"><span id="local-6989586621679312482"><span id="local-6989586621679312483"><span class="annot"><a href="Typescript.Json.Core.Assign.html#reAssignTuple"><span class="hs-identifier hs-type">reAssignTuple</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pre</span></span><span> </span><span class="annot"><a href="#local-6989586621679312483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679312482"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pre</span></span><span> </span><span class="annot"><a href="#local-6989586621679312481"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679312480"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312480"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-233"></span><span id="reAssignTuple"><span class="annot"><span class="annottext">reAssignTuple :: Ap (Pre a (TSType_ 'Z)) c
-&gt; Ap (Pre b (TSType_ 'Z)) d -&gt; Maybe (Assign a d)
</span><a href="Typescript.Json.Core.Assign.html#reAssignTuple"><span class="hs-identifier hs-var hs-var">reAssignTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-235"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span id="local-6989586621679312039"><span class="annot"><span class="annottext">y :: d
</span><a href="#local-6989586621679312039"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Assign a d -&gt; Maybe (Assign a d)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign a d -&gt; Maybe (Assign a d))
-&gt; Assign a d -&gt; Maybe (Assign a d)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">d -&gt; Assign a d
forall a r. a -&gt; Assign r a
</span><a href="Typescript.Json.Core.Assign.html#pureA"><span class="hs-identifier hs-var">pureA</span></a></span><span> </span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621679312039"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-236"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a d)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312037"><span class="annot"><span class="annottext">f :: a -&gt; a1
</span><a href="#local-6989586621679312037"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;$&lt;:</span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span id="local-6989586621679312034"><span class="annot"><span class="annottext">x :: TSType 'Z k a1
</span><a href="#local-6989586621679312034"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679312033"><span class="annot"><span class="annottext">xs :: Ap (Pre a (TSType_ 'Z)) (a1 -&gt; c)
</span><a href="#local-6989586621679312033"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a d)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;$&lt;:</span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span id="local-6989586621679312032"><span class="annot"><span class="annottext">y :: TSType 'Z k a1
</span><a href="#local-6989586621679312032"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679312031"><span class="annot"><span class="annottext">ys :: Ap (Pre b (TSType_ 'Z)) (a1 -&gt; d)
</span><a href="#local-6989586621679312031"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-240"></span><span>        </span><span id="local-6989586621679312030"><span class="annot"><span class="annottext">Assign a1 a1
</span><a href="#local-6989586621679312030"><span class="hs-identifier hs-var">rxs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a1 -&gt; TSType 'Z k a1 -&gt; Maybe (Assign a1 a1)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a1
</span><a href="#local-6989586621679312034"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a1
</span><a href="#local-6989586621679312032"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-241"></span><span>        </span><span id="local-6989586621679312029"><span class="annot"><span class="annottext">Assign a (a1 -&gt; d)
</span><a href="#local-6989586621679312029"><span class="hs-identifier hs-var">rys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ap (Pre a (TSType_ 'Z)) (a1 -&gt; c)
-&gt; Ap (Pre b (TSType_ 'Z)) (a1 -&gt; d) -&gt; Maybe (Assign a (a1 -&gt; d))
forall a c b d.
Ap (Pre a (TSType_ 'Z)) c
-&gt; Ap (Pre b (TSType_ 'Z)) d -&gt; Maybe (Assign a d)
</span><a href="Typescript.Json.Core.Assign.html#reAssignTuple"><span class="hs-identifier hs-var">reAssignTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Ap (Pre a (TSType_ 'Z)) (a1 -&gt; c)
</span><a href="#local-6989586621679312033"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Ap (Pre b (TSType_ 'Z)) (a1 -&gt; d)
</span><a href="#local-6989586621679312031"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-242"></span><span>        </span><span class="annot"><span class="annottext">Assign a d -&gt; Maybe (Assign a d)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Assign a d -&gt; Maybe (Assign a d))
-&gt; (WrappedAssign a d -&gt; Assign a d)
-&gt; WrappedAssign a d
-&gt; Maybe (Assign a d)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a d -&gt; Assign a d
forall a b. WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a d -&gt; Maybe (Assign a d))
-&gt; WrappedAssign a d -&gt; Maybe (Assign a d)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Assign a (a1 -&gt; d) -&gt; WrappedAssign a (a1 -&gt; d)
forall a b. Assign a b -&gt; WrappedAssign a b
</span><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">Assign a (a1 -&gt; d)
</span><a href="#local-6989586621679312029"><span class="hs-identifier hs-var">rys</span></a></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a (a1 -&gt; d)
-&gt; WrappedAssign a a1 -&gt; WrappedAssign a d
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a1) -&gt; WrappedAssign a1 a1 -&gt; WrappedAssign a a1
forall (p :: * -&gt; * -&gt; *) a b c.
Profunctor p =&gt;
(a -&gt; b) -&gt; p b c -&gt; p a c
</span><span class="hs-identifier hs-var">lmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a1
</span><a href="#local-6989586621679312037"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Assign a1 a1 -&gt; WrappedAssign a1 a1
forall a b. Assign a b -&gt; WrappedAssign a b
</span><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">Assign a1 a1
</span><a href="#local-6989586621679312030"><span class="hs-identifier hs-var">rxs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- TODO: can we loopReAssign everything?</span><span>
</span><span id="line-245"></span><span id="local-6989586621679312475"><span id="local-6989586621679312476"><span id="local-6989586621679312477"><span class="annot"><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-type">reAssignIsObj</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Typescript.Json.Types.html#IsObj"><span class="hs-identifier hs-type">IsObj</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312477"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312476"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312475"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312477"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312475"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-246"></span><span id="reAssignIsObj"><span class="annot"><span class="annottext">reAssignIsObj :: TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-var hs-var">reAssignIsObj</span></a></span></span><span> </span><span id="local-6989586621679312027"><span class="annot"><span class="annottext">x :: TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312027"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSArray"><span class="hs-identifier hs-type">TSArray</span></a></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSTuple"><span class="hs-identifier hs-type">TSTuple</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSSingle"><span class="hs-identifier hs-type">TSSingle</span></a></span><span> </span><span id="local-6989586621679312026"><span class="annot"><span class="annottext">y :: TSType 'Z 'IsObj b
</span><a href="#local-6989586621679312026"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
forall a (k :: IsObjType) b.
TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-var">reAssignIsObj</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312027"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj b
</span><a href="#local-6989586621679312026"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSObject"><span class="hs-identifier hs-type">TSObject</span></a></span><span> </span><span id="local-6989586621679312025"><span class="annot"><span class="annottext">y :: TSKeyVal 'Z b
</span><a href="#local-6989586621679312025"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
forall a b.
Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#assembleIsObj"><span class="hs-identifier hs-var">assembleIsObj</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679312023"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSKeyVal 'Z b -&gt; TSType 'Z 'IsObj b
forall (p :: Nat) a. TSKeyVal p a -&gt; TSType p 'IsObj a
</span><a href="Typescript.Json.Types.html#TSObject"><span class="hs-identifier hs-var">TSObject</span></a></span><span> </span><span class="annot"><span class="annottext">TSKeyVal 'Z b
</span><a href="#local-6989586621679312025"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSUnion"><span class="hs-identifier hs-type">TSUnion</span></a></span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b)
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-comment">-- TODO: do the whole thing</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312020"><span id="local-6989586621679312021"><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span id="local-6989586621679312019"><span class="annot"><span class="annottext">ps :: NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679312019"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNameable 'Z k as es b
</span><a href="#local-6989586621679312020"><span class="hs-identifier hs-var">tsnType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span id="local-6989586621679312018"><span class="annot"><span class="annottext">tf :: TSTypeF 'Z k as es b
</span><a href="#local-6989586621679312018"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
forall a (k :: IsObjType) b.
TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-var">reAssignIsObj</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312027"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSTypeF 'Z k as es b -&gt; NP2 (Arg_ 'Z) as es -&gt; TSType 'Z k b
forall (p :: Nat) (k :: IsObjType) (as :: [*]) (es :: [Maybe *]) b.
TSTypeF p k as es b -&gt; NP2 (Arg_ p) as es -&gt; TSType p k b
</span><a href="Typescript.Json.Types.html#tsApply"><span class="hs-identifier hs-var">tsApply</span></a></span><span> </span><span class="annot"><span class="annottext">TSTypeF 'Z k as es b
</span><a href="#local-6989586621679312018"><span class="hs-identifier hs-var">tf</span></a></span><span> </span><span class="annot"><span class="annottext">NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679312019"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNBaseType"><span class="hs-identifier hs-type">TSNBaseType</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSIntersection"><span class="hs-identifier hs-type">TSIntersection</span></a></span><span> </span><span id="local-6989586621679312017"><span class="annot"><span class="annottext">y :: PreT Ap1 (TSType 'Z 'IsObj) b
</span><a href="#local-6989586621679312017"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
forall a b.
Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#assembleIsObj"><span class="hs-identifier hs-var">assembleIsObj</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679312023"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreT Ap1 (TSType 'Z 'IsObj) b -&gt; TSType 'Z 'IsObj b
forall (p :: Nat) a.
PreT Ap1 (TSType p 'IsObj) a -&gt; TSType p 'IsObj a
</span><a href="Typescript.Json.Types.html#TSIntersection"><span class="hs-identifier hs-var">TSIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">PreT Ap1 (TSType 'Z 'IsObj) b
</span><a href="#local-6989586621679312017"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSTransformType"><span class="hs-identifier hs-type">TSTransformType</span></a></span><span> </span><span id="local-6989586621679312016"><span class="annot"><span class="annottext">tf :: ICoyoneda (TSTransform 'Z k) b
</span><a href="#local-6989586621679312016"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
forall a (k :: IsObjType) b.
TSType 'Z 'IsObj a -&gt; TSType 'Z k b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssignIsObj"><span class="hs-identifier hs-var">reAssignIsObj</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312027"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TSTransform 'Z k ~&gt; TSType 'Z k)
-&gt; ICoyoneda (TSTransform 'Z k) b -&gt; TSType 'Z k b
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><span class="hs-identifier hs-var">interpret</span></span><span> </span><span class="annot"><span class="annottext">TSTransform 'Z k ~&gt; TSType 'Z k
forall (p :: Nat) (k :: IsObjType) a.
TSTransform p k a -&gt; TSType p k a
</span><a href="Typescript.Json.Types.html#applyTransform"><span class="hs-identifier hs-var">applyTransform</span></a></span><span> </span><span class="annot"><span class="annottext">ICoyoneda (TSTransform 'Z k) b
</span><a href="#local-6989586621679312016"><span class="hs-identifier hs-var">tf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSPrimType"><span class="hs-identifier hs-type">TSPrimType</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSBaseType"><span class="hs-identifier hs-type">TSBaseType</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Assign a b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>    </span><span id="local-6989586621679312023"><span class="annot"><span class="annottext">mp :: Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679312023"><span class="hs-identifier hs-var hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ 'Z)))
forall (p :: Nat) a.
TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
</span><a href="Typescript.Json.Core.Assign.html#isObjKeyVals"><span class="hs-identifier hs-var">isObjKeyVals</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj a
</span><a href="#local-6989586621679312027"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span id="local-6989586621679312346"><span id="local-6989586621679312347"><span class="annot"><a href="Typescript.Json.Core.Assign.html#isObjKeyVals"><span class="hs-identifier hs-type">isObjKeyVals</span></a></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312347"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Typescript.Json.Types.html#IsObj"><span class="hs-identifier hs-type">IsObj</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312346"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pre</span></span><span> </span><span class="annot"><a href="#local-6989586621679312346"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312347"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-265"></span><span id="isObjKeyVals"><span class="annot"><span class="annottext">isObjKeyVals :: TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
</span><a href="Typescript.Json.Core.Assign.html#isObjKeyVals"><span class="hs-identifier hs-var hs-var">isObjKeyVals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSObject"><span class="hs-identifier hs-type">TSObject</span></a></span><span> </span><span id="local-6989586621679312014"><span class="annot"><span class="annottext">ts :: TSKeyVal p a
</span><a href="#local-6989586621679312014"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSKeyVal p a -&gt; Map Text (Some (Pre a (TSType_ p)))
forall (p :: Nat) a.
TSKeyVal p a -&gt; Map Text (Some (Pre a (TSType_ p)))
</span><a href="Typescript.Json.Types.html#splitKeyVal"><span class="hs-identifier hs-var">splitKeyVal</span></a></span><span> </span><span class="annot"><span class="annottext">TSKeyVal p a
</span><a href="#local-6989586621679312014"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSIntersection"><span class="hs-identifier hs-type">TSIntersection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PreT</span></span><span> </span><span id="local-6989586621679312012"><span class="annot"><span class="annottext">ts :: Ap1 (Pre a (TSType p 'IsObj)) a
</span><a href="#local-6989586621679312012"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall x.
 Pre a (TSType p 'IsObj) x -&gt; Map Text (Some (Pre a (TSType_ p))))
-&gt; Ap1 (Pre a (TSType p 'IsObj)) a
-&gt; Map Text (Some (Pre a (TSType_ p)))
forall k1 k2 (t :: (k1 -&gt; *) -&gt; k2 -&gt; *) m (f :: k1 -&gt; *)
       (a :: k2).
(HTraversable t, Monoid m) =&gt;
(forall (x :: k1). f x -&gt; m) -&gt; t f a -&gt; m
</span><span class="hs-identifier hs-var">hfoldMap</span></span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679312010"><span class="annot"><a href="#local-6989586621679312010"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;$&lt;:</span></span><span> </span><span id="local-6989586621679312009"><span class="annot"><a href="#local-6989586621679312009"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType p 'IsObj x -&gt; Map Text (Some (Pre x (TSType_ p)))
forall (p :: Nat) a.
TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
</span><a href="Typescript.Json.Core.Assign.html#isObjKeyVals"><span class="hs-identifier hs-var">isObjKeyVals</span></a></span><span> </span><span class="annot"><span class="annottext">TSType p 'IsObj x
</span><a href="#local-6989586621679312009"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre x (TSType_ p)))
-&gt; (Some (Pre x (TSType_ p)) -&gt; Some (Pre a (TSType_ p)))
-&gt; Map Text (Some (Pre a (TSType_ p)))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span id="local-6989586621679312006"><span class="annot"><span class="annottext">p :: Pre x (TSType_ p) a
</span><a href="#local-6989586621679312006"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pre a (TSType_ p) a -&gt; Some (Pre a (TSType_ p))
forall k (tag :: k -&gt; *) (a :: k). tag a -&gt; Some tag
</span><span class="hs-identifier hs-var">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; x) -&gt; Pre x (TSType_ p) a -&gt; Pre a (TSType_ p) a
forall c a (f :: * -&gt; *) b. (c -&gt; a) -&gt; Pre a f b -&gt; Pre c f b
</span><span class="hs-identifier hs-var">mapPre</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679312010"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Pre x (TSType_ p) a
</span><a href="#local-6989586621679312006"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><span class="annottext">Ap1 (Pre a (TSType p 'IsObj)) a
</span><a href="#local-6989586621679312012"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679312003"><span id="local-6989586621679312004"><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span id="local-6989586621679312002"><span class="annot"><span class="annottext">ps :: NP2 (Arg_ p) as es
</span><a href="#local-6989586621679312002"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNameable p 'IsObj as es a
</span><a href="#local-6989586621679312003"><span class="hs-identifier hs-var">tsnType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span id="local-6989586621679312001"><span class="annot"><span class="annottext">tf :: TSTypeF p 'IsObj as es a
</span><a href="#local-6989586621679312001"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
forall (p :: Nat) a.
TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
</span><a href="Typescript.Json.Core.Assign.html#isObjKeyVals"><span class="hs-identifier hs-var">isObjKeyVals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSTypeF p 'IsObj as es a -&gt; NP2 (Arg_ p) as es -&gt; TSType p 'IsObj a
forall (p :: Nat) (k :: IsObjType) (as :: [*]) (es :: [Maybe *]) b.
TSTypeF p k as es b -&gt; NP2 (Arg_ p) as es -&gt; TSType p k b
</span><a href="Typescript.Json.Types.html#tsApply"><span class="hs-identifier hs-var">tsApply</span></a></span><span> </span><span class="annot"><span class="annottext">TSTypeF p 'IsObj as es a
</span><a href="#local-6989586621679312001"><span class="hs-identifier hs-var">tf</span></a></span><span> </span><span class="annot"><span class="annottext">NP2 (Arg_ p) as es
</span><a href="#local-6989586621679312002"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><a href="Typescript.Json.Types.html#TSTransformType"><span class="hs-identifier hs-type">TSTransformType</span></a></span><span> </span><span id="local-6989586621679312000"><span class="annot"><span class="annottext">tf :: ICoyoneda (TSTransform p 'IsObj) a
</span><a href="#local-6989586621679312000"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
forall (p :: Nat) a.
TSType p 'IsObj a -&gt; Map Text (Some (Pre a (TSType_ p)))
</span><a href="Typescript.Json.Core.Assign.html#isObjKeyVals"><span class="hs-identifier hs-var">isObjKeyVals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TSTransform p 'IsObj ~&gt; TSType p 'IsObj)
-&gt; ICoyoneda (TSTransform p 'IsObj) a -&gt; TSType p 'IsObj a
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><span class="hs-identifier hs-var">interpret</span></span><span> </span><span class="annot"><span class="annottext">TSTransform p 'IsObj ~&gt; TSType p 'IsObj
forall (p :: Nat) (k :: IsObjType) a.
TSTransform p k a -&gt; TSType p k a
</span><a href="Typescript.Json.Types.html#applyTransform"><span class="hs-identifier hs-var">applyTransform</span></a></span><span> </span><span class="annot"><span class="annottext">ICoyoneda (TSTransform p 'IsObj) a
</span><a href="#local-6989586621679312000"><span class="hs-identifier hs-var">tf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="annot"><a href="Typescript.Json.Core.Assign.html#assembleIsObj"><span class="hs-identifier hs-type">assembleIsObj</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679312354"><span class="annot"><a href="#local-6989586621679312354"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679312353"><span class="annot"><a href="#local-6989586621679312353"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pre</span></span><span> </span><span class="annot"><a href="#local-6989586621679312354"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Typescript.Json.Types.html#IsObj"><span class="hs-identifier hs-type">IsObj</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312353"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312354"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312353"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span id="assembleIsObj"><span class="annot"><span class="annottext">assembleIsObj :: Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#assembleIsObj"><span class="hs-identifier hs-var hs-var">assembleIsObj</span></a></span></span><span> </span><span id="local-6989586621679311999"><span class="annot"><span class="annottext">mp :: Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679311999"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj b -&gt; Maybe (Assign a b)
forall c. TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679311998"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679312317"><span class="annot"><a href="#local-6989586621679311998"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType"><span class="hs-identifier hs-type">TSType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Typescript.Json.Types.html#IsObj"><span class="hs-identifier hs-type">IsObj</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312317"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312354"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312317"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621679311998"><span class="annot"><span class="annottext">go :: TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679311998"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSObject"><span class="hs-identifier hs-type">TSObject</span></a></span><span> </span><span id="local-6989586621679311997"><span class="annot"><span class="annottext">ts :: TSKeyVal 'Z c
</span><a href="#local-6989586621679311997"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSKeyVal 'Z c -&gt; Maybe (Assign a c)
forall a b.
Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSKeyVal 'Z b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#assembleKeyVal"><span class="hs-identifier hs-var">assembleKeyVal</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679311999"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">TSKeyVal 'Z c
</span><a href="#local-6989586621679311997"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-284"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSIntersection"><span class="hs-identifier hs-type">TSIntersection</span></a></span><span> </span><span id="local-6989586621679311995"><span class="annot"><span class="annottext">ts :: PreT Ap1 (TSType 'Z 'IsObj) c
</span><a href="#local-6989586621679311995"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a c -&gt; Assign a c)
-&gt; Maybe (WrappedAssign a c) -&gt; Maybe (Assign a c)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a c -&gt; Assign a c
forall a b. WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (WrappedAssign a c) -&gt; Maybe (Assign a c))
-&gt; (Compose Maybe (WrappedAssign a) c -&gt; Maybe (WrappedAssign a c))
-&gt; Compose Maybe (WrappedAssign a) c
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Compose Maybe (WrappedAssign a) c -&gt; Maybe (WrappedAssign a c)
forall k1 (f :: k1 -&gt; *) k2 (g :: k2 -&gt; k1) (a :: k2).
Compose f g a -&gt; f (g a)
</span><span class="hs-identifier hs-var hs-var">getCompose</span></span><span> </span><span class="annot"><span class="annottext">(Compose Maybe (WrappedAssign a) c -&gt; Maybe (Assign a c))
-&gt; Compose Maybe (WrappedAssign a) c -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TSType 'Z 'IsObj ~&gt; Compose Maybe (WrappedAssign a))
-&gt; PreT Ap1 (TSType 'Z 'IsObj) c
-&gt; Compose Maybe (WrappedAssign a) c
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><span class="hs-identifier hs-var">interpret</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (WrappedAssign a x) -&gt; Compose Maybe (WrappedAssign a) x
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (WrappedAssign a x) -&gt; Compose Maybe (WrappedAssign a) x)
-&gt; (TSType 'Z 'IsObj x -&gt; Maybe (WrappedAssign a x))
-&gt; TSType 'Z 'IsObj x
-&gt; Compose Maybe (WrappedAssign a) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Assign a x -&gt; WrappedAssign a x)
-&gt; Maybe (Assign a x) -&gt; Maybe (WrappedAssign a x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Assign a x -&gt; WrappedAssign a x
forall a b. Assign a b -&gt; WrappedAssign a b
</span><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Assign a x) -&gt; Maybe (WrappedAssign a x))
-&gt; (TSType 'Z 'IsObj x -&gt; Maybe (Assign a x))
-&gt; TSType 'Z 'IsObj x
-&gt; Maybe (WrappedAssign a x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj x -&gt; Maybe (Assign a x)
forall c. TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679311998"><span class="hs-identifier hs-var">go</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreT Ap1 (TSType 'Z 'IsObj) c
</span><a href="#local-6989586621679311995"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-285"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSNamedType"><span class="hs-identifier hs-type">TSNamedType</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679311993"><span id="local-6989586621679311994"><span class="annot"><a href="Typescript.Json.Types.html#TSNamed"><span class="hs-identifier hs-type">TSNamed</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#%3A%24"><span class="hs-operator hs-type">:$</span></a></span><span> </span><span id="local-6989586621679311992"><span class="annot"><span class="annottext">ps :: NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679311992"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TSNameable 'Z 'IsObj as es c
</span><a href="#local-6989586621679311993"><span class="hs-identifier hs-var">tsnType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><a href="Typescript.Json.Types.html#TSNFunc"><span class="hs-identifier hs-type">TSNFunc</span></a></span><span> </span><span id="local-6989586621679311991"><span class="annot"><span class="annottext">tf :: TSTypeF 'Z 'IsObj as es c
</span><a href="#local-6989586621679311991"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
forall c. TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679311998"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TSTypeF 'Z 'IsObj as es c
-&gt; NP2 (Arg_ 'Z) as es -&gt; TSType 'Z 'IsObj c
forall (p :: Nat) (k :: IsObjType) (as :: [*]) (es :: [Maybe *]) b.
TSTypeF p k as es b -&gt; NP2 (Arg_ p) as es -&gt; TSType p k b
</span><a href="Typescript.Json.Types.html#tsApply"><span class="hs-identifier hs-var">tsApply</span></a></span><span> </span><span class="annot"><span class="annottext">TSTypeF 'Z 'IsObj as es c
</span><a href="#local-6989586621679311991"><span class="hs-identifier hs-var">tf</span></a></span><span> </span><span class="annot"><span class="annottext">NP2 (Arg_ 'Z) as es
</span><a href="#local-6989586621679311992"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>      </span><span class="annot"><a href="Typescript.Json.Types.html#TSTransformType"><span class="hs-identifier hs-type">TSTransformType</span></a></span><span> </span><span id="local-6989586621679311990"><span class="annot"><span class="annottext">tf :: ICoyoneda (TSTransform 'Z 'IsObj) c
</span><a href="#local-6989586621679311990"><span class="hs-identifier hs-var">tf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a c -&gt; Assign a c)
-&gt; Maybe (WrappedAssign a c) -&gt; Maybe (Assign a c)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a c -&gt; Assign a c
forall a b. WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (WrappedAssign a c) -&gt; Maybe (Assign a c))
-&gt; (Compose Maybe (WrappedAssign a) c -&gt; Maybe (WrappedAssign a c))
-&gt; Compose Maybe (WrappedAssign a) c
-&gt; Maybe (Assign a c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Compose Maybe (WrappedAssign a) c -&gt; Maybe (WrappedAssign a c)
forall k1 (f :: k1 -&gt; *) k2 (g :: k2 -&gt; k1) (a :: k2).
Compose f g a -&gt; f (g a)
</span><span class="hs-identifier hs-var hs-var">getCompose</span></span><span> </span><span class="annot"><span class="annottext">(Compose Maybe (WrappedAssign a) c -&gt; Maybe (Assign a c))
-&gt; Compose Maybe (WrappedAssign a) c -&gt; Maybe (Assign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-288"></span><span>        </span><span class="annot"><span class="annottext">(TSTransform 'Z 'IsObj ~&gt; Compose Maybe (WrappedAssign a))
-&gt; Coyoneda (TSTransform 'Z 'IsObj) c
-&gt; Compose Maybe (WrappedAssign a) c
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><span class="hs-identifier hs-var">interpret</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (WrappedAssign a x) -&gt; Compose Maybe (WrappedAssign a) x
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (WrappedAssign a x) -&gt; Compose Maybe (WrappedAssign a) x)
-&gt; (TSTransform 'Z 'IsObj x -&gt; Maybe (WrappedAssign a x))
-&gt; TSTransform 'Z 'IsObj x
-&gt; Compose Maybe (WrappedAssign a) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Assign a x -&gt; WrappedAssign a x)
-&gt; Maybe (Assign a x) -&gt; Maybe (WrappedAssign a x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Assign a x -&gt; WrappedAssign a x
forall a b. Assign a b -&gt; WrappedAssign a b
</span><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Assign a x) -&gt; Maybe (WrappedAssign a x))
-&gt; (TSTransform 'Z 'IsObj x -&gt; Maybe (Assign a x))
-&gt; TSTransform 'Z 'IsObj x
-&gt; Maybe (WrappedAssign a x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'IsObj x -&gt; Maybe (Assign a x)
forall c. TSType 'Z 'IsObj c -&gt; Maybe (Assign a c)
</span><a href="#local-6989586621679311998"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">(TSType 'Z 'IsObj x -&gt; Maybe (Assign a x))
-&gt; (TSTransform 'Z 'IsObj x -&gt; TSType 'Z 'IsObj x)
-&gt; TSTransform 'Z 'IsObj x
-&gt; Maybe (Assign a x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TSTransform 'Z 'IsObj x -&gt; TSType 'Z 'IsObj x
forall (p :: Nat) (k :: IsObjType) a.
TSTransform p k a -&gt; TSType p k a
</span><a href="Typescript.Json.Types.html#applyTransform"><span class="hs-identifier hs-var">applyTransform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ICoyoneda (TSTransform 'Z 'IsObj) c
-&gt; Coyoneda (TSTransform 'Z 'IsObj) c
forall (f :: * -&gt; *). ICoyoneda f ~&gt; Coyoneda f
</span><a href="Typescript.Json.Types.Combinators.html#icoToCoco"><span class="hs-identifier hs-var">icoToCoco</span></a></span><span> </span><span class="annot"><span class="annottext">ICoyoneda (TSTransform 'Z 'IsObj) c
</span><a href="#local-6989586621679311990"><span class="hs-identifier hs-var">tf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="annot"><a href="Typescript.Json.Core.Assign.html#assembleKeyVal"><span class="hs-identifier hs-type">assembleKeyVal</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679312315"><span class="annot"><a href="#local-6989586621679312315"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679312314"><span class="annot"><a href="#local-6989586621679312314"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pre</span></span><span> </span><span class="annot"><a href="#local-6989586621679312315"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSKeyVal"><span class="hs-identifier hs-type">TSKeyVal</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><a href="#local-6989586621679312314"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312315"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312314"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span id="assembleKeyVal"><span class="annot"><span class="annottext">assembleKeyVal :: Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; TSKeyVal 'Z b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#assembleKeyVal"><span class="hs-identifier hs-var hs-var">assembleKeyVal</span></a></span></span><span> </span><span id="local-6989586621679311988"><span class="annot"><span class="annottext">mp :: Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679311988"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PreT</span></span><span> </span><span id="local-6989586621679311987"><span class="annot"><span class="annottext">p :: Ap (Pre b (ObjMember (TSType_ 'Z))) b
</span><a href="#local-6989586621679311987"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WrappedAssign a b -&gt; Assign a b
forall a b. WrappedAssign a b -&gt; Assign a b
</span><a href="Typescript.Json.Core.Assign.html#unwrapAssign"><span class="hs-identifier hs-var hs-var">unwrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a b -&gt; Assign a b)
-&gt; Maybe (WrappedAssign a b) -&gt; Maybe (Assign a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ap (Pre b (ObjMember (TSType_ 'Z))) b -&gt; Maybe (WrappedAssign a b)
forall d c.
Ap (Pre d (ObjMember (TSType_ 'Z))) c -&gt; Maybe (WrappedAssign a c)
</span><a href="#local-6989586621679311986"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Ap (Pre b (ObjMember (TSType_ 'Z))) b
</span><a href="#local-6989586621679311987"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621679312303"><span id="local-6989586621679312304"><span class="annot"><a href="#local-6989586621679311986"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pre</span></span><span> </span><span class="annot"><a href="#local-6989586621679312304"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#ObjMember"><span class="hs-identifier hs-type">ObjMember</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679312303"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Core.Assign.html#WrappedAssign"><span class="hs-identifier hs-type">WrappedAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312315"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679312303"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-298"></span><span>    </span><span id="local-6989586621679311986"><span class="annot"><span class="annottext">go :: Ap (Pre d (ObjMember (TSType_ 'Z))) c -&gt; Maybe (WrappedAssign a c)
</span><a href="#local-6989586621679311986"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-299"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span id="local-6989586621679311985"><span class="annot"><span class="annottext">x :: c
</span><a href="#local-6989586621679311985"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WrappedAssign a c -&gt; Maybe (WrappedAssign a c)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a c -&gt; Maybe (WrappedAssign a c))
-&gt; WrappedAssign a c -&gt; Maybe (WrappedAssign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; WrappedAssign a c
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679311985"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;$&lt;:</span></span><span> </span><span id="local-6989586621679311982"><span id="local-6989586621679311983"><span id="local-6989586621679311984"><span class="annot"><a href="Typescript.Json.Types.html#ObjMember"><span class="hs-identifier hs-type">ObjMember</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679311977"><span class="annot"><span class="annottext">xs :: Ap (Pre d (ObjMember (TSType_ 'Z))) (a1 -&gt; c)
</span><a href="#local-6989586621679311977"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-301"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679311976"><span class="annot"><span class="annottext">q :: a -&gt; a
</span><a href="#local-6989586621679311976"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;$&lt;:</span></span><span> </span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span id="local-6989586621679311975"><span class="annot"><span class="annottext">u :: TSType 'Z k a
</span><a href="#local-6989586621679311975"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text
-&gt; Map Text (Some (Pre a (TSType_ 'Z)))
-&gt; Maybe (Some (Pre a (TSType_ 'Z)))
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">M.lookup</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679311983"><span class="hs-identifier hs-var">objMemberKey</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Some (Pre a (TSType_ 'Z)))
</span><a href="#local-6989586621679311988"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-comment">-- if the original is Non-Nullable, we can assign it to anything</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-comment">-- if the original is Nullable, we can only assign it to Nullable</span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-comment">-- TODO: this is now wrong because required assignment to nullable is</span><span>
</span><span id="line-305"></span><span>        </span><span class="hs-comment">-- different from optional assignment</span><span>
</span><span id="line-306"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679311973"><span class="annot"><span class="annottext">objVal :: TSType_ 'Z a1
</span><a href="#local-6989586621679311973"><span class="hs-identifier hs-var hs-var">objVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(:+:) (TSType_ 'Z) (ILan Maybe (TSType_ 'Z)) a1
</span><a href="#local-6989586621679311982"><span class="hs-identifier hs-var">objMemberVal</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-307"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679311971"><span class="annot"><span class="annottext">t :: TSType_ 'Z a1
</span><a href="#local-6989586621679311971"><span class="hs-identifier hs-var">t</span></a></span></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType_ 'Z a1
</span><a href="#local-6989586621679311971"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-308"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.Combinators.html#ILan"><span class="hs-identifier hs-type">ILan</span></a></span><span> </span><span id="local-6989586621679311969"><span class="annot"><span class="annottext">g :: Maybe x -&gt; a1
</span><a href="#local-6989586621679311969"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679311968"><span class="annot"><span class="annottext">h :: a1 -&gt; Maybe x
</span><a href="#local-6989586621679311968"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-type">TSType_</span></a></span><span> </span><span id="local-6989586621679311967"><span class="annot"><span class="annottext">t :: TSType 'Z k x
</span><a href="#local-6989586621679311967"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TSType 'Z 'NotObj a1 -&gt; TSType_ 'Z a1
forall (p :: Nat) a (k :: IsObjType). TSType p k a -&gt; TSType_ p a
</span><a href="Typescript.Json.Types.html#TSType_"><span class="hs-identifier hs-var">TSType_</span></a></span><span> </span><span class="annot"><span class="annottext">(TSType 'Z 'NotObj a1 -&gt; TSType_ 'Z a1)
-&gt; TSType 'Z 'NotObj a1 -&gt; TSType_ 'Z a1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe x -&gt; a1)
-&gt; (a1 -&gt; Maybe x)
-&gt; TSType 'Z 'NotObj (Maybe x)
-&gt; TSType 'Z 'NotObj a1
forall (f :: * -&gt; *) a b.
Invariant f =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">invmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe x -&gt; a1
</span><a href="#local-6989586621679311969"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a1 -&gt; Maybe x
</span><a href="#local-6989586621679311968"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(TSType 'Z 'NotObj (Maybe x) -&gt; TSType 'Z 'NotObj a1)
-&gt; TSType 'Z 'NotObj (Maybe x) -&gt; TSType 'Z 'NotObj a1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k x -&gt; TSType 'Z 'NotObj (Maybe x)
forall (p :: Nat) (k :: IsObjType) a.
TSType p k a -&gt; TSType p 'NotObj (Maybe a)
</span><a href="Typescript.Json.Types.html#mkNullable"><span class="hs-identifier hs-var">mkNullable</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k x
</span><a href="#local-6989586621679311967"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-309"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall (k :: IsObjType).
 TSType 'Z k a1 -&gt; Maybe (WrappedAssign a c))
-&gt; TSType_ 'Z a1 -&gt; Maybe (WrappedAssign a c)
forall (p :: Nat) a r.
(forall (k :: IsObjType). TSType p k a -&gt; r) -&gt; TSType_ p a -&gt; r
</span><a href="Typescript.Json.Types.html#withTSType_"><span class="hs-operator hs-var">`withTSType_`</span></a></span><span> </span><span class="annot"><span class="annottext">TSType_ 'Z a1
</span><a href="#local-6989586621679311973"><span class="hs-identifier hs-var">objVal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((forall (k :: IsObjType).
  TSType 'Z k a1 -&gt; Maybe (WrappedAssign a c))
 -&gt; Maybe (WrappedAssign a c))
-&gt; (forall (k :: IsObjType).
    TSType 'Z k a1 -&gt; Maybe (WrappedAssign a c))
-&gt; Maybe (WrappedAssign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679311964"><span class="annot"><span class="annottext">t :: TSType 'Z k a1
</span><a href="#local-6989586621679311964"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-310"></span><span>          </span><span id="local-6989586621679311963"><span class="annot"><span class="annottext">WrappedAssign a a1
</span><a href="#local-6989586621679311963"><span class="hs-identifier hs-var">rx</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Assign a a1 -&gt; WrappedAssign a a1
forall a b. Assign a b -&gt; WrappedAssign a b
</span><a href="Typescript.Json.Core.Assign.html#WrapAssign"><span class="hs-identifier hs-var">WrapAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(Assign a a1 -&gt; WrappedAssign a a1)
-&gt; Maybe (Assign a a1) -&gt; Maybe (WrappedAssign a a1)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a -&gt; TSType 'Z k a1 -&gt; Maybe (Assign a a1)
forall (k :: IsObjType) a (j :: IsObjType) b.
TSType 'Z k a -&gt; TSType 'Z j b -&gt; Maybe (Assign a b)
</span><a href="Typescript.Json.Core.Assign.html#reAssign"><span class="hs-identifier hs-var">reAssign</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a
</span><a href="#local-6989586621679311975"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">TSType 'Z k a1
</span><a href="#local-6989586621679311964"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-311"></span><span>          </span><span id="local-6989586621679311962"><span class="annot"><span class="annottext">WrappedAssign a (a1 -&gt; c)
</span><a href="#local-6989586621679311962"><span class="hs-identifier hs-var">rxs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ap (Pre d (ObjMember (TSType_ 'Z))) (a1 -&gt; c)
-&gt; Maybe (WrappedAssign a (a1 -&gt; c))
forall d c.
Ap (Pre d (ObjMember (TSType_ 'Z))) c -&gt; Maybe (WrappedAssign a c)
</span><a href="#local-6989586621679311986"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Ap (Pre d (ObjMember (TSType_ 'Z))) (a1 -&gt; c)
</span><a href="#local-6989586621679311977"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-312"></span><span>          </span><span class="annot"><span class="annottext">WrappedAssign a c -&gt; Maybe (WrappedAssign a c)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WrappedAssign a c -&gt; Maybe (WrappedAssign a c))
-&gt; WrappedAssign a c -&gt; Maybe (WrappedAssign a c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a (a1 -&gt; c)
</span><a href="#local-6989586621679311962"><span class="hs-identifier hs-var">rxs</span></a></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a (a1 -&gt; c)
-&gt; WrappedAssign a a1 -&gt; WrappedAssign a c
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; WrappedAssign a a1 -&gt; WrappedAssign a a1
forall (p :: * -&gt; * -&gt; *) a b c.
Profunctor p =&gt;
(a -&gt; b) -&gt; p b c -&gt; p a c
</span><span class="hs-identifier hs-var">lmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679311976"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">WrappedAssign a a1
</span><a href="#local-6989586621679311963"><span class="hs-identifier hs-var">rx</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span></pre></body></html>